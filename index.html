<!doctype html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="世界史Atlasは、紀元前4000年から現代までの世界の歴史を視覚的にたどることができるインタラクティブな地図です。政治的境界、王朝、指導者の変遷を時系列で確認できます。">
<link rel="icon" href="favicon.png">
<style type="text/css"> @import "style.css"; </style>
<script type="application/x-javascript">

'use strict';

const MAX_YEAR = 2019;

const data = {
	map_x: 2500,
	map_y: 580,
	year: -4000,
	zoom: 1,
	lang: 'ja',
};

</script>
<script type="application/javascript" src="js/era.js" defer></script>
<script type="application/javascript" src="js/territory.js" defer></script>
<script type="application/javascript" src="js/regions.js" defer></script>
<script type="application/javascript" src="js/LangButton.js" defer></script>
<script type="application/javascript" src="js/ZoomBar.js" defer></script>
<script type="application/javascript" src="js/YearText.js" defer></script>
<script type="application/javascript" src="js/YearBar.js" defer></script>
<script type="application/javascript" src="js/Region.js" defer></script>
<script type="application/javascript" src="js/Map.js" defer></script>
<script type="application/javascript" src="js/twha.js" defer></script>
<title>世界史 Atlas - インタラクティブ歴史地図</title>
</head>
<body>
<!-- サイト説明（スクリーンリーダー用、視覚的には非表示） -->
<div class="sr-only" id="site-description">
	<h1>世界史 Atlas へようこそ</h1>
	<p>このサイトは、紀元前4000年から現代までの世界の歴史を視覚的にたどることができるインタラクティブな地図です。</p>
	<h2>使い方</h2>
	<ul>
		<li>地図をドラッグして移動できます</li>
		<li>マウスホイールまたはズームバーで拡大・縮小できます</li>
		<li>年号バーをクリックまたは年号をクリックして入力することで、時代を変更できます</li>
		<li>言語は日本語、英語、中国語から選択できます</li>
	</ul>
	<a href="#main-content" class="skip-link">メインコンテンツへスキップ</a>
</div>

<header id="head" role="banner">
	<nav aria-label="主要ナビゲーション">
		<!-- ズームコントロール -->
		<div id="scale-zoom" role="slider" aria-label="ズームレベル" aria-valuemin="0" aria-valuemax="4" aria-valuenow="1" tabindex="0">
			<img src="img/scale-zoom.png" alt="" aria-hidden="true">
			<img src="img/thumb-v.png" id="scale-zoom-cursor" alt="" aria-hidden="true">
		</div>
		
		<!-- 言語選択 -->
		<div role="group" aria-label="言語選択">
			<button class="lang-button" id="lang-ja" aria-pressed="true" aria-label="日本語を選択">
				<span aria-hidden="true">🇯🇵</span> 日本語
			</button>
			<button class="lang-button" id="lang-en" aria-pressed="false" aria-label="英語を選択">
				<span aria-hidden="true">🇬🇧</span> English
			</button>
			<button class="lang-button" id="lang-zh" aria-pressed="false" aria-label="中国語を選択">
				<span aria-hidden="true">🇨🇳</span> 中文
			</button>
		</div>
		
		<!-- 年号入力 -->
		<form id="year" role="search" aria-label="年号検索">
			<label for="year-input" class="sr-only">年号を入力</label>
			<button type="button" id="year-text" aria-label="年号を変更するにはクリック"></button>
			<input type="number" 
			       id="year-input" 
			       min="-4000" 
			       max="2019" 
			       step="1"
			       placeholder="年号を入力 (例: 1600)"
			       aria-label="年号入力欄"
			       autocomplete="off">
		</form>
		<div id="year-sub" aria-live="polite" aria-atomic="true"></div>
	</nav>
</header>

<main id="main-content" role="main">
	<div id="layer-land" aria-label="地図ベースレイヤー"></div>
	<div id="layer-tert" aria-label="領土レイヤー"></div>
	<div id="layer-info" aria-label="情報レイヤー" role="region" aria-live="polite"></div>
</main>

<footer role="contentinfo">
	<div id="year-bar" role="slider" aria-label="タイムライン" aria-valuemin="-4000" aria-valuemax="2019" tabindex="0">
		<img id="year-bar-cursor" src="img/year-pos.png" alt="" aria-hidden="true">
		<button id="year-arrow-left" aria-label="前の年へ">
			<img src="img/arrow-left.png" alt="">
		</button>
		<canvas id="year-bar-scale" height="32" aria-hidden="true"></canvas>
		<button id="year-arrow-right" aria-label="次の年へ">
			<img src="img/arrow-right.png" alt="">
		</button>
	</div>
</footer>
</body>
</html>
